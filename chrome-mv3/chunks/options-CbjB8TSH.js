import{j as e,c as u,r as n,g as S,a as E,s as I,b as C,i as O,d as D,P as F,u as B,e as R,f as U,h as k,R as K,k as W}from"./webhook-F7dL5qan.js";function L(){return e.jsxs("div",{className:u("bg-[#1e1f22] flex justify-between items-center w-full","p-2 rounded-sm"),children:[e.jsx("div",{className:"w-[20%] text-center font-bold",children:"웹훅 이름"}),e.jsx("div",{className:"w-[50%] text-center font-bold",children:"웹훅 URL"}),e.jsx("div",{className:"w-[20%] text-center font-bold",children:"표시될 이름"}),e.jsx("div",{className:"w-[10%] text-center font-bold"})]})}function g({placeholder:s,className:l,value:a,onChange:d,handleAddWebhook:c}){return e.jsx("input",{placeholder:s,className:u(l,"py-2 px-3 outline-none bg-[#2c2f33] rounded-sm h-full"),value:a,onChange:m=>d(m.target.value),onKeyDown:m=>{m.key==="Enter"&&c&&c()}})}function M({onClick:s}){return e.jsx("button",{className:u("w-[5%] bg-[#3556ca] h-full rounded-sm","cursor-pointer hover:bg-[#2e4bb8]","text-white font-bold transition-colors"),onClick:s,children:"추가"})}function b({name:s,children:l,checked:a,onChange:d}){return e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4",id:s,checked:a,onChange:d}),e.jsx("label",{htmlFor:s,children:l})]})}function P({nameInput:s,displayNameInput:l,urlInput:a,setDisplayNameInput:d,setNameInput:c,setUrlInput:m,handleAddWebhook:f}){const[h,j]=n.useState(!0),[x,p]=n.useState(!1);n.useEffect(()=>{(async()=>(j(await S()),p(await E())))()});const t=async()=>{j(r=>!r),await I(!h)},i=async()=>{p(r=>!r),await C(!x)};return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:u("flex justify-between items-center w-full gap-1","h-[36px]"),children:[e.jsx(g,{className:"w-[20%]",placeholder:"웹훅 이름",value:s,onChange:c,handleAddWebhook:f}),e.jsx(g,{className:"w-[50%]",placeholder:"웹훅 URL (신뢰할 수 없는 타인에게 공유하지 마세요)",value:a,onChange:m,handleAddWebhook:f}),e.jsx(g,{className:"w-[25%]",placeholder:"표시될 이름",value:l,onChange:d,handleAddWebhook:f}),e.jsx(M,{onClick:f})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(b,{name:"webhook-success-emoji",checked:h,onChange:t,children:"웹훅 전송 완료 이모지 표시"}),e.jsx(b,{name:"webhook-first-solve",checked:x,onChange:i,children:"문자를 최초로 맞춘 경우에만 웹훅 전송"})]})]})}function A({webhook:s,handleDeleteWebhook:l,handleUpdateWebhook:a}){const[d,c]=n.useState(!1),[m,f]=n.useState(!1),[h,j]=n.useState(!1),[x,p]=n.useState(s.name),[t,i]=n.useState(s.url),[r,N]=n.useState(s.displayName||"");n.useEffect(()=>{p(s.name),i(s.url),N(s.displayName||"")},[s]);const y=()=>{c(!1),x!==s.name&&a(s.id,{name:x})},v=()=>{f(!1),t!==s.url&&a(s.id,{url:t})},w=()=>{j(!1),r!==s.displayName&&a(s.id,{displayName:r})};return e.jsxs("div",{className:u("flex justify-between items-center w-full","h-8 bg-[#2c2f33] pl-4 pr-2 rounded-sm min-w-0"),children:[e.jsx("div",{className:u("w-[20%] hover:cursor-text h-full flex items-center p-1"),children:d?e.jsx("input",{className:"w-full bg-[#2c2f33] outline-none",value:x,onChange:o=>p(o.target.value),onBlur:y,onKeyDown:o=>{o.key==="Enter"&&y()},autoFocus:!0}):e.jsx("span",{className:"w-full truncate",onClick:()=>c(!0),children:s.name})}),e.jsx("div",{className:u("w-[50%] hover:cursor-text h-full flex items-center p-1"),children:m?e.jsx("input",{className:"w-full bg-[#2c2f33] outline-none",value:t,onChange:o=>i(o.target.value),onBlur:v,onKeyDown:o=>{o.key==="Enter"&&v()},autoFocus:!0}):e.jsx("span",{className:"w-full truncate",onClick:()=>f(!0),children:s.url})}),e.jsx("div",{className:u("w-[25%] hover:cursor-text h-full flex items-center p-1"),children:h?e.jsx("input",{className:"w-full bg-[#2c2f33] outline-none",value:r,onChange:o=>N(o.target.value),onBlur:w,onKeyDown:o=>{o.key==="Enter"&&w()},autoFocus:!0}):e.jsx("span",{className:u("w-full truncate",s.displayName?"":"text-gray-400 italic"),onClick:()=>j(!0),children:s.displayName||"BOJ handle"})}),e.jsx("div",{className:u("bg-red-500 text-white w-[5%] transition-all","cursor-pointer text-center rounded-sm hover:bg-red-600"),onClick:()=>l(s.id),children:"X"})]})}function H(){const[s,l]=n.useState([]),[a,d]=n.useState(""),[c,m]=n.useState(""),[f,h]=n.useState("");n.useEffect(()=>{(async()=>(await O(),l(await D())))()},[]);const j=async()=>{if(!a||!c)return;const t=U(a,c,f);l(i=>[...i,t]),d(""),m(""),h(""),await k(t)},x=async t=>{l(i=>i.filter(r=>r.id!==t)),await R(t)},p=async(t,i)=>{l(r=>r.map(N=>N.id===t?{...N,...i}:N)),await B(t,i)};return e.jsxs("div",{className:"w-screen h-screen flex flex-col items-center",children:[e.jsx("div",{className:"flex flex-col mt-16 mb-8",children:e.jsx(F,{large:!0,hideUsage:!0})}),e.jsxs("div",{className:u("max-w-4xl w-full flex flex-col bg-[#424549]","h-[568px] rounded-md justify-between p-6"),children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(L,{}),s.map(t=>e.jsx(A,{handleDeleteWebhook:x,handleUpdateWebhook:p,webhook:t},t.id))]}),e.jsx("div",{className:"border-t border-[#cbcbcb] pt-4",children:e.jsx(P,{nameInput:a,setNameInput:d,urlInput:c,setUrlInput:m,displayNameInput:f,setDisplayNameInput:h,handleAddWebhook:j,handleDeleteWebhook:x,handleUpdateWebhook:p})})]})]})}K.createRoot(document.getElementById("root")).render(e.jsx(W.StrictMode,{children:e.jsx(H,{})}));
